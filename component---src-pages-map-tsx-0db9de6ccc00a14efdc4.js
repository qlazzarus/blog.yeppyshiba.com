"use strict";(self.webpackChunkyeppyshiba_blog=self.webpackChunkyeppyshiba_blog||[]).push([[43],{9641:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var o=n(7294),a=n(1597),r=n(9611);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var l=n(885);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=n(3935);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(v){return!1}}();return function(){var n,o=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return u(this,n)}}var m,v,y="undefined"!=typeof window&&"undefined"!=typeof document?o.useLayoutEffect:o.useEffect,g=function(e,t,n){y((function(){if(e&&n){var o=function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return void 0===o?n(e):n.apply(void 0,[e].concat(o))};return kakao.maps.event.addListener(e,t,o),function(){kakao.maps.event.removeListener(e,t,o)}}}),[e,t,n])};(v=m||(m={}))[v.INITIALIZED=0]="INITIALIZED",v[v.LOADING=1]="LOADING",v[v.SUCCESS=2]="SUCCESS",v[v.FAILURE=3]="FAILURE";var h=function(){function e(t){var n=t.appkey,o=t.id,a=void 0===o?"__reactKakaoMapsSdkloaderId":o,r=t.libraries,i=void 0===r?[]:r,u=t.nonce,s=t.retries,l=void 0===s?3:s,f=t.url,d=void 0===f?"//dapi.kakao.com/v2/maps/sdk.js":f;if(c(this,e),this.id=void 0,this.appkey=void 0,this.url=void 0,this.libraries=void 0,this.nonce=void 0,this.retries=void 0,this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0,this.id=a,this.appkey=n,this.libraries=i,this.nonce=u,this.retries=l,this.url=d,e.instance){if(!e.equalOptions(this.options,e.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(e.instance.options)));return e.instance}e.instance=this}return d(e,[{key:"options",get:function(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}},{key:"load",value:function(){var e=this;return new Promise((function(t,n){e.loadCallback((function(e){e?n(e.error):t(window.kakao)}))}))}},{key:"status",get:function(){return this.onerrorEvent?m.FAILURE:this.done?m.SUCCESS:this.loading?m.LOADING:m.INITIALIZED}},{key:"failed",get:function(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}},{key:"loadCallback",value:function(e){this.callbacks.push(e),this.execute()}},{key:"resetIfRetryingFailed",value:function(){this.failed&&this.reset()}},{key:"reset",value:function(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0}},{key:"execute",value:function(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps)return console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),void this.callback();this.loading||(this.loading=!0,this.setScript())}}},{key:"setScript",value:function(){document.getElementById(this.id)&&this.callback();var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}},{key:"loadErrorCallback",value:function(e,t,n,o,a){var r=this;if(this.errors.push({event:e,source:t,lineno:n,colno:o,error:a}),this.errors.length<=this.retries){var i=this.errors.length*Math.pow(2,this.errors.length);console.log("Failed to load Kakao Maps script, retrying in ".concat(i," ms.")),setTimeout((function(){r.deleteScript(),r.setScript()}),i)}else this.onerrorEvent=this.errors[this.errors.length-1],this.callback()}},{key:"createUrl",value:function(){var e=this.url;return e+="?appkey=".concat(this.appkey),this.libraries.length&&(e+="&libraries=".concat(this.libraries.join(","))),e+="&autoload=false"}},{key:"deleteScript",value:function(){var e=document.getElementById(this.id);e&&e.remove()}},{key:"callback",value:function(){var t=this;kakao.maps.load((function(){t.done=!0,t.loading=!1,t.callbacks.forEach((function(e){e(t.onerrorEvent)})),t.callbacks=[],e.loadcheckcallbacks.forEach((function(e){e(t.onerrorEvent)})),e.loadcheckcallbacks=[]}))}}],[{key:"isLoaded",value:function(){return new Promise((function(t){return window.kakao&&window.kakao.maps?t(!0):e.instance?e.instance.status===m.FAILURE||e.instance.status===m.INITIALIZED?t(!1):(e.instance.status===m.LOADING&&e.loadcheckcallbacks.push((function(e){return t(!e)})),t(!0)):e.loadcheckcallbacks.push((function(e){t(!e)}))}))}},{key:"equalOptions",value:function(e,t){if(e.appkey!==t.appkey)return!1;if(e.id!==t.id)return!1;if(e.libraries.length!==t.libraries.length)return!1;for(var n=0;n<e.libraries.length;++n)if(e.libraries[n]!==t.libraries[n])return!1;return e.nonce===t.nonce&&e.retries===t.retries&&e.url===t.url}}]),e}();h.instance=void 0,h.loadcheckcallbacks=[];var w=o.createContext(void 0),L=o.forwardRef((function(e,t){var n=e.id,a=void 0===n?"react-kakao-maps-sdk-map-container":n,r=e.style,i=e.children,u=e.center,s=e.isPanto,c=void 0!==s&&s,f=e.padding,d=void 0===f?32:f,p=e.className,k=e.disableDoubleClick,m=e.disableDoubleClickZoom,v=e.draggable,L=e.zoomable,C=e.keyboardShortcuts,b=e.level,E=e.maxLevel,M=e.minLevel,I=e.mapTypeId,O=e.projectionId,x=e.scrollwheel,S=e.tileAnimation,z=e.onBoundsChanged,R=e.onCenterChanged,P=e.onClick,A=e.onDoubleClick,Z=e.onDrag,D=e.onDragEnd,T=e.onDragStart,W=e.onIdle,H=e.onMaptypeidChanged,j=e.onMouseMove,N=e.onRightClick,_=e.onTileLoaded,F=e.onZoomChanged,B=e.onZoomStart,U=e.onCreate,G=(0,o.useState)(!1),V=(0,l.Z)(G,2),q=V[0],K=V[1],J=(0,o.useState)(),X=(0,l.Z)(J,2),Y=X[0],Q=X[1],$=(0,o.useRef)(null);return y((function(){h.isLoaded().then(K)}),[]),y((function(){if(q){var e=$.current;if(e){var t="lat"in u?new kakao.maps.LatLng(u.lat,u.lng):new kakao.maps.Coords(u.x,u.y),n=new kakao.maps.Map(e,{center:t,disableDoubleClick:k,disableDoubleClickZoom:m,draggable:v,keyboardShortcuts:C,level:b,mapTypeId:I,projectionId:O,scrollwheel:x,tileAnimation:S});Q(n)}}}),[q,k,m,I,S]),(0,o.useImperativeHandle)(t,(function(){return Y}),[Y]),y((function(){Y&&U&&U(Y)}),[Y,U]),y((function(){if(Y){var e=Y.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());var t="lat"in u?new kakao.maps.LatLng(u.lat,u.lng):new kakao.maps.Coords(u.x,u.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(c?Y.panTo(t,d):Y.setCenter(t))}}),[Y,u.lat,u.lng,u.x,u.y]),y((function(){Y&&void 0!==v&&Y.setDraggable(v)}),[Y,v]),y((function(){Y&&void 0!==L&&Y.setZoomable(L)}),[Y,L]),y((function(){Y&&C&&"boolean"==typeof C&&Y.setKeyboardShortcuts(C)}),[Y,C]),y((function(){Y&&b&&Y.setLevel(b)}),[Y,b]),y((function(){Y&&I&&Y.setMapTypeId(I)}),[Y,I]),y((function(){Y&&O&&Y.setProjectionId(O)}),[Y,O]),y((function(){Y&&E&&Y.setMaxLevel(E)}),[Y,E]),y((function(){Y&&M&&Y.setMinLevel(M)}),[Y,M]),g(Y,"bounds_changed",z),g(Y,"center_changed",R),g(Y,"click",P),g(Y,"dblclick",A),g(Y,"drag",Z),g(Y,"dragstart",T),g(Y,"dragend",D),g(Y,"idle",W),g(Y,"maptypeid_changed",H),g(Y,"mousemove",j),g(Y,"rightclick",N),g(Y,"tilesloaded",_),g(Y,"zoom_changed",F),g(Y,"zoom_start",B),o.createElement(o.Fragment,null,o.createElement("div",{id:a,style:r,className:p,ref:$}),Y&&o.createElement(w.Provider,{value:Y},i))})),C=function(e){var t=(0,o.useContext)(w);if(!t)throw new Error((e?e+" Component":"useMap")+" must exist inside Map Component!");return t},b=o.forwardRef((function(e,t){var n=e.map,a=e.position,r=e.marker,i=e.children,u=e.altitude,s=e.disableAutoPan,l=e.range,c=e.removable,f=e.zIndex,d=e.onCreate,k=(0,o.useRef)(document.createElement("div")),m=(0,o.useMemo)((function(){var e=new kakao.maps.InfoWindow({altitude:u,disableAutoPan:s,range:l,removable:c,zIndex:f,content:k.current,position:a});return k.current.style.display="none",e}),[s,c]);return(0,o.useImperativeHandle)(t,(function(){return m}),[m]),(0,o.useLayoutEffect)((function(){return m.open(n,r),function(){m.close()}}),[n,r]),(0,o.useLayoutEffect)((function(){d&&d(m)}),[m,d]),(0,o.useLayoutEffect)((function(){m&&m.setPosition(a)}),[m,a]),(0,o.useLayoutEffect)((function(){m&&u&&m.setAltitude(u)}),[m,u]),(0,o.useLayoutEffect)((function(){m&&l&&m.setRange(l)}),[m,l]),(0,o.useLayoutEffect)((function(){m&&f&&m.setZIndex(f)}),[m,f]),k.current.parentElement&&p.createPortal(i,k.current.parentElement)})),E=o.createContext(void 0),M=(o.forwardRef((function(e,t){var n=e.children,a=e.averageCenter,r=e.calculator,i=e.clickable,u=e.disableClickZoom,s=e.gridSize,l=e.hoverable,c=e.minClusterSize,f=e.minLevel,d=e.styles,p=e.texts,k=e.onClusterclick,m=e.onClusterdblclick,v=e.onClustered,y=e.onClusterout,h=e.onClusterover,w=e.onClusterrightclick,L=e.onCreate,b=C("MarkerClusterer"),M=(0,o.useMemo)((function(){if(window.kakao.maps.MarkerClusterer)return new kakao.maps.MarkerClusterer({averageCenter:a,calculator:r,clickable:i,disableClickZoom:u,gridSize:s,hoverable:l,minClusterSize:c,minLevel:f,styles:d,texts:p});console.warn("clusterer 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")}),[]);return(0,o.useImperativeHandle)(t,(function(){return M}),[M]),(0,o.useLayoutEffect)((function(){null==M||M.setMap(b)}),[b,M]),(0,o.useLayoutEffect)((function(){M&&L&&L(M)}),[M,L]),(0,o.useLayoutEffect)((function(){M&&s&&(M.setGridSize(s),M.redraw())}),[M,s]),(0,o.useLayoutEffect)((function(){M&&c&&(M.setMinClusterSize(c),M.redraw())}),[M,c]),(0,o.useLayoutEffect)((function(){M&&void 0!==a&&(M.setAverageCenter(a),M.redraw())}),[M,a]),(0,o.useLayoutEffect)((function(){M&&f&&(M.setMinLevel(f),M.redraw())}),[M,f]),(0,o.useLayoutEffect)((function(){M&&p&&(M.setTexts(p),M.redraw())}),[M,p]),(0,o.useLayoutEffect)((function(){M&&r&&(M.setCalculator(r),M.redraw())}),[M,r]),(0,o.useLayoutEffect)((function(){M&&d&&(M.setStyles(d),M.redraw())}),[M,d]),g(M,"clusterclick",k),g(M,"clusterover",h),g(M,"clusterout",y),g(M,"clusterdblclick",m),g(M,"clusterrightclick",w),g(M,"clustered",v),M?o.createElement(E.Provider,{value:M},n):null})),o.forwardRef((function(e,t){var n=e.map,a=e.position,r=e.children,i=e.altitude,u=e.clickable,s=e.draggable,l=e.image,c=e.infoWindowOptions,f=e.onCreate,d=e.onClick,p=e.onDragEnd,k=e.onDragStart,m=e.onMouseOut,v=e.onMouseOver,y=e.opacity,h=e.range,w=e.title,L=e.zIndex,C=(0,o.useContext)(E),M=(0,o.useMemo)((function(){return new kakao.maps.Marker({altitude:i,clickable:u,draggable:s,image:l,opacity:y,range:h,title:w,zIndex:L,position:a})}),[]);return(0,o.useImperativeHandle)(t,(function(){return M}),[M]),(0,o.useLayoutEffect)((function(){return C?C.addMarker(M):M.setMap(n),function(){C?C.removeMarker(M):M.setMap(null)}}),[n,C,M]),(0,o.useLayoutEffect)((function(){f&&f(M)}),[M,f]),g(M,"click",d),g(M,"dragstart",k),g(M,"dragend",p),g(M,"mouseout",m),g(M,"mouseover",v),(0,o.useLayoutEffect)((function(){n&&M&&a&&M.setPosition(a)}),[n,M,a]),(0,o.useLayoutEffect)((function(){n&&M&&l&&M.setImage(l)}),[n,M,l]),(0,o.useLayoutEffect)((function(){n&&M&&i&&M.setAltitude(i)}),[n,M,i]),(0,o.useLayoutEffect)((function(){n&&M&&void 0!==u&&M.setClickable(u)}),[n,M,u]),(0,o.useLayoutEffect)((function(){n&&M&&void 0!==s&&M.setDraggable(s)}),[n,M,s]),(0,o.useLayoutEffect)((function(){n&&M&&y&&M.setOpacity(y)}),[n,M,y]),(0,o.useLayoutEffect)((function(){n&&M&&h&&M.setRange(h)}),[n,M,h]),(0,o.useLayoutEffect)((function(){n&&M&&w&&M.setTitle(w)}),[n,M,w]),(0,o.useLayoutEffect)((function(){n&&M&&L&&M.setZIndex(L)}),[n,M,L]),r?o.createElement(b,{position:a,map:n,marker:M,altitude:null==c?void 0:c.altitude,disableAutoPan:null==c?void 0:c.disableAutoPan,range:null==c?void 0:c.range,removable:null==c?void 0:c.removable,zIndex:null==c?void 0:c.zIndex},r):null}))),I=o.forwardRef((function(e,t){var n=e.image,a=e.position,r=e.children,i=e.clickable,u=e.draggable,s=e.infoWindowOptions,l=e.onClick,c=e.onDragEnd,f=e.onDragStart,d=e.onMouseOut,p=e.onMouseOver,k=e.onCreate,m=e.opacity,v=e.title,y=e.zIndex,g=C("MapMarker"),h=(0,o.useMemo)((function(){var e,t,o,a,r,i,u,s,l,c,f,d;return n&&new kakao.maps.MarkerImage(n.src,new kakao.maps.Size(n.size.width,n.size.height),{alt:null==(e=n.options)?void 0:e.alt,coords:null==(t=n.options)?void 0:t.coords,offset:(null==(o=n.options)?void 0:o.offset)&&new kakao.maps.Point(null==(a=n.options)?void 0:a.offset.x,null==(r=n.options)?void 0:r.offset.y),shape:null==(i=n.options)?void 0:i.shape,spriteOrigin:(null==(u=n.options)?void 0:u.spriteOrigin)&&new kakao.maps.Point(null==(s=n.options)?void 0:s.spriteOrigin.x,null==(l=n.options)?void 0:l.spriteOrigin.y),spriteSize:(null==(c=n.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(f=n.options)?void 0:f.spriteSize.width,null==(d=n.options)?void 0:d.spriteSize.height)})}),[n]),w=(0,o.useMemo)((function(){return"lat"in a?new kakao.maps.LatLng(a.lat,a.lng):new kakao.maps.Coords(a.x,a.y).toLatLng()}),[a.lat,a.lng,a.x,a.y]);return o.createElement(M,{map:g,position:w,image:h,clickable:i,draggable:u,infoWindowOptions:s,onClick:l,onDragEnd:c,onDragStart:f,onMouseOut:d,onMouseOver:p,onCreate:k,opacity:m,title:v,zIndex:y,ref:t},r)})),O=(o.forwardRef((function(e,t){var n=e.position,a=e.children,r=e.disableAutoPan,i=e.removable,u=e.zIndex,s=e.onCreate,l=C("MapInfoWindow"),c=(0,o.useMemo)((function(){return new kakao.maps.LatLng(n.lat,n.lng)}),[n.lat,n.lng]);return o.createElement(b,{disableAutoPan:r,removable:i,zIndex:u,map:l,position:c,onCreate:s,ref:t},a)})),o.forwardRef((function(e,t){var n=e.position,a=e.children,r=e.clickable,i=e.xAnchor,u=e.yAnchor,s=e.zIndex,l=e.onCreate,c=(0,o.useContext)(E),f=C("CustomOverlayMap"),d=(0,o.useRef)(document.createElement("div")),k=(0,o.useMemo)((function(){return new kakao.maps.LatLng(n.lat,n.lng)}),[n.lat,n.lng]),m=(0,o.useMemo)((function(){var e=new kakao.maps.CustomOverlay({clickable:r,xAnchor:i,yAnchor:u,zIndex:s,position:k,content:d.current});return d.current.style.display="none",e}),[r,i,u]);return(0,o.useImperativeHandle)(t,(function(){return m}),[m]),(0,o.useLayoutEffect)((function(){if(f)return c?c.addMarker(m):m.setMap(f),function(){c?c.removeMarker(m):m.setMap(null)}}),[f,c,m]),(0,o.useLayoutEffect)((function(){l&&l(m)}),[m,l]),(0,o.useLayoutEffect)((function(){m.setPosition(k)}),[m,k]),(0,o.useLayoutEffect)((function(){s&&m.setZIndex(s)}),[m,s]),d.current.parentElement&&p.createPortal(a,d.current.parentElement)})),o.forwardRef((function(e,t){var n=e.position,a=void 0===n?kakao.maps.ControlPosition.TOPRIGHT:n,r=C("MapTypeControl"),i=(0,o.useMemo)((function(){return new kakao.maps.MapTypeControl}),[]);return(0,o.useImperativeHandle)(t,(function(){return i}),[i]),(0,o.useLayoutEffect)((function(){return r.addControl(i,a),function(){r.removeControl(i)}}),[r,i,a]),null})),o.forwardRef((function(e,t){var n=e.position,a=void 0===n?kakao.maps.ControlPosition.RIGHT:n,r=C("ZoomControl"),i=(0,o.useMemo)((function(){return new kakao.maps.ZoomControl}),[]);return(0,o.useImperativeHandle)(t,(function(){return i}),[i]),(0,o.useEffect)((function(){return r.addControl(i,a),function(){r.removeControl(i)}}),[r,a]),null})),o.forwardRef((function(e,t){var n=e.center,a=e.radius,r=e.fillColor,i=e.fillOpacity,u=e.strokeColor,s=e.strokeOpacity,l=e.strokeStyle,c=e.strokeWeight,f=e.zIndex,d=e.onMouseover,p=e.onMouseout,k=e.onMousemove,m=e.onMousedown,v=e.onClick,y=e.onCreate,h=C("Circle"),w=(0,o.useMemo)((function(){return new kakao.maps.LatLng(n.lat,n.lng)}),[n.lat,n.lng]),L=(0,o.useMemo)((function(){return new kakao.maps.Circle({center:w,radius:a,fillColor:r,fillOpacity:i,strokeColor:u,strokeOpacity:s,strokeStyle:l,strokeWeight:c,zIndex:f})}),[]);return(0,o.useImperativeHandle)(t,(function(){return L}),[L]),(0,o.useLayoutEffect)((function(){return L.setMap(h),function(){L.setMap(null)}}),[h,L]),(0,o.useLayoutEffect)((function(){y&&y(L)}),[L,y]),(0,o.useLayoutEffect)((function(){L&&L.setPosition(w)}),[L,w]),(0,o.useLayoutEffect)((function(){L.setRadius(a)}),[L,a]),(0,o.useLayoutEffect)((function(){f&&L.setZIndex(f)}),[L,f]),(0,o.useLayoutEffect)((function(){L.setOptions({fillColor:r,fillOpacity:i,strokeColor:u,strokeOpacity:s,strokeStyle:l,strokeWeight:c})}),[L,r,i,u,s,l,c]),g(L,"mouseover",d),g(L,"mouseout",p),g(L,"mousemove",k),g(L,"mousedown",m),g(L,"click",v),null})),o.forwardRef((function(e,t){var n=e.path,a=e.endArrow,r=e.onClick,i=e.onMousedown,u=e.onMousemove,s=e.onMouseout,l=e.onMouseover,c=e.onCreate,f=e.strokeColor,d=e.strokeOpacity,p=e.strokeStyle,k=e.strokeWeight,m=e.zIndex,v=C("Polyline"),y=(0,o.useMemo)((function(){return n.every((function(e){return e instanceof Array}))?n.map((function(e){return e.map((function(e){return new kakao.maps.LatLng(e.lat,e.lng)}))})):n.map((function(e){return new kakao.maps.LatLng(e.lat,e.lng)}))}),[n]),h=(0,o.useMemo)((function(){return new kakao.maps.Polyline({path:y,endArrow:a,strokeColor:f,strokeOpacity:d,strokeStyle:p,strokeWeight:k,zIndex:m})}),[]);return(0,o.useImperativeHandle)(t,(function(){return h}),[h]),(0,o.useLayoutEffect)((function(){return h.setMap(v),function(){return h.setMap(null)}}),[v,h]),(0,o.useLayoutEffect)((function(){c&&c(h)}),[h,c]),(0,o.useLayoutEffect)((function(){h.setOptions({endArrow:a,strokeColor:f,strokeOpacity:d,strokeStyle:p,strokeWeight:k})}),[h,a,f,d,p,k]),(0,o.useLayoutEffect)((function(){h.setPath(y)}),[h,y]),(0,o.useLayoutEffect)((function(){m&&h.setZIndex(m)}),[h,m]),g(h,"mouseover",l),g(h,"mouseout",s),g(h,"mousemove",u),g(h,"mousedown",i),g(h,"click",r),null})),o.forwardRef((function(e,t){var n=e.path,a=e.onClick,r=e.onMousedown,i=e.onMousemove,u=e.onMouseout,s=e.onMouseover,l=e.onCreate,c=e.strokeColor,f=e.strokeOpacity,d=e.strokeStyle,p=e.strokeWeight,k=e.fillColor,m=e.fillOpacity,v=e.zIndex,y=C("Polygon"),h=(0,o.useMemo)((function(){return n.every((function(e){return e instanceof Array}))?n.map((function(e){return e.map((function(e){return new kakao.maps.LatLng(e.lat,e.lng)}))})):n.map((function(e){return new kakao.maps.LatLng(e.lat,e.lng)}))}),[n]),w=(0,o.useMemo)((function(){return new kakao.maps.Polygon({path:h,fillColor:k,fillOpacity:m,strokeColor:c,strokeOpacity:f,strokeStyle:d,strokeWeight:p,zIndex:v})}),[]);return(0,o.useImperativeHandle)(t,(function(){return w}),[w]),(0,o.useLayoutEffect)((function(){return w.setMap(y),function(){return w.setMap(null)}}),[y,w]),(0,o.useLayoutEffect)((function(){l&&l(w)}),[w,l]),(0,o.useLayoutEffect)((function(){w.setOptions({fillColor:k,fillOpacity:m,strokeColor:c,strokeOpacity:f,strokeStyle:d,strokeWeight:p})}),[w,k,m,c,f,d,p]),(0,o.useLayoutEffect)((function(){w.setPath(h)}),[w,h]),(0,o.useLayoutEffect)((function(){v&&w.setZIndex(v)}),[w,v]),g(w,"mouseover",s),g(w,"mouseout",u),g(w,"mousemove",i),g(w,"mousedown",r),g(w,"click",a),null})),o.forwardRef((function(e,t){var n=e.bounds,a=e.onClick,r=e.onMousedown,i=e.onMousemove,u=e.onMouseout,s=e.onMouseover,l=e.onCreate,c=e.strokeColor,f=e.strokeOpacity,d=e.strokeStyle,p=e.strokeWeight,k=e.fillColor,m=e.fillOpacity,v=e.zIndex,y=C("Rectangle"),h=(0,o.useMemo)((function(){return new kakao.maps.LatLngBounds(new kakao.maps.LatLng(n.sw.lat,n.sw.lng),new kakao.maps.LatLng(n.ne.lat,n.ne.lng))}),[n]),w=(0,o.useMemo)((function(){return new kakao.maps.Rectangle({bounds:h,fillColor:k,fillOpacity:m,strokeColor:c,strokeOpacity:f,strokeStyle:d,strokeWeight:p,zIndex:v})}),[]);return(0,o.useImperativeHandle)(t,(function(){return w}),[w]),(0,o.useLayoutEffect)((function(){return w.setMap(y),function(){return w.setMap(null)}}),[y,w]),(0,o.useLayoutEffect)((function(){l&&l(w)}),[w,l]),(0,o.useLayoutEffect)((function(){w.setOptions({fillColor:k,fillOpacity:m,strokeColor:c,strokeOpacity:f,strokeStyle:d,strokeWeight:p})}),[w,k,m,c,f,d,p]),(0,o.useLayoutEffect)((function(){w.setBounds(h)}),[w,h]),(0,o.useLayoutEffect)((function(){v&&w.setZIndex(v)}),[w,v]),g(w,"mouseover",s),g(w,"mouseout",u),g(w,"mousemove",i),g(w,"mousedown",r),g(w,"click",a),null})),o.forwardRef((function(e,t){var n=e.center,a=e.rx,r=e.ry,i=e.fillColor,u=e.fillOpacity,s=e.strokeColor,l=e.strokeOpacity,c=e.strokeStyle,f=e.strokeWeight,d=e.zIndex,p=e.onMouseover,k=e.onMouseout,m=e.onMousemove,v=e.onMousedown,y=e.onClick,h=e.onCreate,w=C("Ellipse"),L=(0,o.useMemo)((function(){return new kakao.maps.LatLng(n.lat,n.lng)}),[n.lat,n.lng]),b=(0,o.useMemo)((function(){return new kakao.maps.Ellipse({center:L,rx:a,ry:r,fillColor:i,fillOpacity:u,strokeColor:s,strokeOpacity:l,strokeStyle:c,strokeWeight:f,zIndex:d})}),[]);return(0,o.useImperativeHandle)(t,(function(){return b}),[b]),(0,o.useLayoutEffect)((function(){return b.setMap(w),function(){b.setMap(null)}}),[w,b]),(0,o.useLayoutEffect)((function(){h&&h(b)}),[b,h]),(0,o.useLayoutEffect)((function(){b&&b.setPosition(L)}),[b,L]),(0,o.useLayoutEffect)((function(){b.setRadius(a,r)}),[b,a,r]),(0,o.useLayoutEffect)((function(){d&&b.setZIndex(d)}),[b,d]),(0,o.useLayoutEffect)((function(){b.setOptions({fillColor:i,fillOpacity:u,strokeColor:s,strokeOpacity:l,strokeStyle:c,strokeWeight:f})}),[b,i,u,s,l,c,f]),g(b,"mouseover",p),g(b,"mouseout",k),g(b,"mousemove",m),g(b,"mousedown",v),g(b,"click",y),null})),o.forwardRef((function(e,t){var n=e.draw,a=e.onAdd,i=e.onRemove,u=e.onCreate,s=C(),l=(0,o.useMemo)((function(){var e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}(n,kakao.maps.AbstractOverlay);var t=k(n);function n(e,o,a){var r;return c(this,n),(r=t.call(this)).draw=e,r.onAdd=o,r.onRemove=a,r}return d(n)}();return new e(n,a,i)}),[n,a,i]);return(0,o.useImperativeHandle)(t,(function(){return l}),[l]),(0,o.useLayoutEffect)((function(){return l.setMap(s),function(){l.setMap(null)}}),[s,l]),(0,o.useLayoutEffect)((function(){u&&u(l)}),[l,u]),null})),o.createContext(void 0)),x=(o.forwardRef((function(e,t){var n=e.id,a=void 0===n?"react-kakao-maps-sdk-roadview-container":n,r=e.style,i=e.children,u=e.position,s=e.className,c=e.pan,f=e.panoId,d=e.panoX,p=e.panoY,k=e.tilt,m=e.zoom,v=e.onCreate,w=e.onInit,L=e.onPanoidChange,C=e.onPositionChanged,b=e.onViewpointChange,E=e.onErrorGetNearestPanoId,M=(0,o.useState)(!1),I=(0,l.Z)(M,2),x=I[0],S=I[1],z=(0,o.useState)(!0),R=(0,l.Z)(z,2),P=R[0],A=R[1],Z=(0,o.useState)(),D=(0,l.Z)(Z,2),T=D[0],W=D[1],H=(0,o.useRef)(null);return y((function(){h.isLoaded().then(S)}),[]),y((function(){if(x&&H.current){var e=new kakao.maps.Roadview(H.current,{pan:c,panoId:f,panoX:d,panoY:p,tilt:k,zoom:m});W(e)}}),[x,d,p,m]),(0,o.useImperativeHandle)(t,(function(){return T}),[T]),y((function(){T&&v&&v(T)}),[T,v]),y((function(){if(T&&!f&&(T.getPosition().getLat()!==u.lat||T.getPosition().getLng()!==u.lng)){var e=new kakao.maps.LatLng(u.lat,u.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(e,u.radius,(function(t){null===t&&E?E(T):T.setPanoId(t,e)}))}}),[T,f,u.lat,u.lng,u.radius,E]),y((function(){if(T&&f&&f!==T.getPanoId()&&(T.getPosition().getLat()!==u.lat||T.getPosition().getLng()!==u.lng)){var e=new kakao.maps.LatLng(u.lat,u.lng);T.setPanoId(f,e)}}),[T,f,u.lat,u.lng]),y((function(){if(T){var e=T.getViewpoint();e.pan===c&&e.tilt===k||(c&&(e.pan=c),k&&(e.tilt=k),T.setViewpoint(e))}}),[T,c,k]),g(T,"init",(function(e){A(!1),w&&w(e)})),g(T,"panoid_changed",L),g(T,"viewpoint_changed",b),g(T,"position_changed",C),o.createElement(o.Fragment,null,o.createElement("div",{id:a,className:s,style:r,ref:H}),T&&!P&&o.createElement(O.Provider,{value:T},i))})),function(e){var t=(0,o.useContext)(O);if(!t)throw new Error((e?e+" Component":"useRoadview")+" must exist inside Roadview Component!");return t}),S=(o.forwardRef((function(e,t){var n=e.position,a=e.children,r=e.clickable,i=e.xAnchor,u=e.yAnchor,s=e.zIndex,l=e.altitude,c=e.range,f=e.onCreate,d=x("CustomOverlayRoadview"),k=(0,o.useRef)(document.createElement("div")),m=(0,o.useMemo)((function(){return"lat"in n?new kakao.maps.LatLng(n.lat,n.lng):new kakao.maps.Viewpoint(n.pan,n.tilt,n.zoom,n.panoId)}),[n.lat,n.lng,n.pan,n.tilt,n.zoom,n.panoId]),v=(0,o.useMemo)((function(){var e=new kakao.maps.CustomOverlay({clickable:r,xAnchor:i,yAnchor:u,zIndex:s,position:m,content:k.current});return k.current.style.display="none",e}),[r,i,u]);return(0,o.useImperativeHandle)(t,(function(){return v}),[v]),(0,o.useLayoutEffect)((function(){if(d)return v.setMap(d),function(){v.setMap(null)}}),[v,d]),(0,o.useLayoutEffect)((function(){f&&f(v)}),[v,f]),(0,o.useLayoutEffect)((function(){v.setPosition(m)}),[v,m]),(0,o.useLayoutEffect)((function(){s&&v.setZIndex(s)}),[v,s]),(0,o.useLayoutEffect)((function(){l&&v.setAltitude(l)}),[v,l]),(0,o.useLayoutEffect)((function(){c&&v.setRange(c)}),[v,c]),k.current.parentElement&&p.createPortal(a,k.current.parentElement)})),o.forwardRef((function(e,t){var n=e.image,a=e.position,r=e.children,i=e.altitude,u=e.clickable,s=e.infoWindowOptions,l=e.onClick,c=e.onDragEnd,f=e.onDragStart,d=e.onMouseOut,p=e.onMouseOver,k=e.onCreate,m=e.opacity,v=e.range,y=e.title,g=e.zIndex,h=x("RoadviewMarker"),w=(0,o.useMemo)((function(){var e,t,o,a,r,i,u,s,l,c,f,d;return n&&new kakao.maps.MarkerImage(n.src,new kakao.maps.Size(n.size.width,n.size.height),{alt:null==(e=n.options)?void 0:e.alt,coords:null==(t=n.options)?void 0:t.coords,offset:(null==(o=n.options)?void 0:o.offset)&&new kakao.maps.Point(null==(a=n.options)?void 0:a.offset.x,null==(r=n.options)?void 0:r.offset.y),shape:null==(i=n.options)?void 0:i.shape,spriteOrigin:(null==(u=n.options)?void 0:u.spriteOrigin)&&new kakao.maps.Point(null==(s=n.options)?void 0:s.spriteOrigin.x,null==(l=n.options)?void 0:l.spriteOrigin.y),spriteSize:(null==(c=n.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(f=n.options)?void 0:f.spriteSize.width,null==(d=n.options)?void 0:d.spriteSize.height)})}),[n]),L=(0,o.useMemo)((function(){return"lat"in a?new kakao.maps.LatLng(a.lat,a.lng):"x"in a?new kakao.maps.Coords(a.x,a.y).toLatLng():new kakao.maps.Viewpoint(a.pan,a.tilt,a.zoom,a.panoId)}),[a.lat,a.lng,a.x,a.y,a.pan,a.tilt,a.zoom,null==a?void 0:a.panoId]);return o.createElement(M,{map:h,position:L,image:w,altitude:i,clickable:u,infoWindowOptions:s,onClick:l,onDragEnd:c,onDragStart:f,onMouseOut:d,onMouseOver:p,onCreate:k,opacity:m,range:v,title:y,zIndex:g,ref:t},r)})),o.forwardRef((function(e,t){var n=e.position,a=e.children,r=e.altitude,i=e.disableAutoPan,u=e.range,s=e.removable,l=e.zIndex,c=e.onCreate,f=x("RoadviewInfoWindow"),d=(0,o.useMemo)((function(){return"lat"in n?new kakao.maps.LatLng(n.lat,n.lng):new kakao.maps.Viewpoint(n.pan,n.tilt,n.zoom,n.panoId)}),[n.lat,n.lng,n.pan,n.tilt,n.zoom,n.panoId]);return o.createElement(b,{altitude:r,disableAutoPan:i,range:u,removable:s,zIndex:l,map:f,position:d,onCreate:c,ref:t},a)})),o.createContext(void 0));function z(e,t,n){(0,o.useLayoutEffect)((function(){e&&n&&e.addListener(t,(function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return void 0===o?n(e):n.apply(void 0,[e].concat(o))}))}),[n,e,t])}o.forwardRef((function(e,t){var n=e.arrowOptions,a=e.circleOptions,r=e.ellipseOptions,i=e.markerOptions,u=e.polygonOptions,s=e.polylineOptions,l=e.rectangleOptions,c=e.drawingMode,f=e.guideTooltip,d=e.onSelect,p=e.onDrawstart,k=e.onDraw,m=e.onDrawend,v=e.onDrawnext,y=e.onCancle,g=e.onRemove,h=e.onStateChanged,w=e.onCreate,L=e.children,b=C("Toolbox"),E=(0,o.useMemo)((function(){if(window.kakao.maps.drawing)return new kakao.maps.drawing.DrawingManager({map:b,drawingMode:c,guideTooltip:f,arrowOptions:n,circleOptions:a,ellipseOptions:r,markerOptions:i,polygonOptions:u,polylineOptions:s,rectangleOptions:l});console.warn("drawing 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")}),[]);return(0,o.useImperativeHandle)(t,(function(){return E}),[E]),(0,o.useLayoutEffect)((function(){E&&w&&w(E)}),[E,w]),z(E,"select",d),z(E,"drawstart",p),z(E,"draw",k),z(E,"drawend",m),z(E,"drawnext",v),z(E,"cancel",y),z(E,"remove",g),z(E,"state_changed",h),E?o.createElement(S.Provider,{value:E},L):null})),o.forwardRef((function(e,t){var n=e.position;n=n||kakao.maps.ControlPosition.TOP;var a=C("Toolbox"),r=(0,o.useContext)(S);if(!r)throw new Error("Toolbox must exist inside DrawingManager Component!`");var i=(0,o.useMemo)((function(){return new kakao.maps.drawing.Toolbox({drawingManager:r})}),[r]);return(0,o.useImperativeHandle)(t,(function(){return i}),[i]),(0,o.useLayoutEffect)((function(){var e=i.getElement();return a.addControl(e,n),function(){a.removeControl(e)}}),[a,i,n]),null}));function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}o.forwardRef((function(e,t){var n=e.id,a=void 0===n?"react-kakao-maps-sdk-staticmap-container":n,r=e.style,i=e.className,u=e.center,s=e.marker,c=e.level,f=e.mapTypeId,d=e.onCreate,p=(0,o.useState)(),k=(0,l.Z)(p,2),m=k[0],v=k[1],g=(0,o.useRef)(null);return y((function(){if(window.kakao){var e=g.current;e&&kakao.maps.load((function(){var t=Array.isArray(s)?s.map((function(e){return R({},e,{position:new kakao.maps.LatLng(e.position.lat,e.position.lng)})})):"object"==typeof s&&s.position?R({},s,{position:new kakao.maps.LatLng(s.position.lat,s.position.lng)}):s,n=new kakao.maps.StaticMap(e,{center:new kakao.maps.LatLng(u.lat,u.lng),level:c,mapTypeId:f,marker:t});v(n)}))}else console.warn("kakao map javascript api를 먼저 불러와야 합니다. `https://apis.map.kakao.com/web/guide`")}),[JSON.stringify(s)]),(0,o.useImperativeHandle)(t,(function(){return m}),[m]),y((function(){m&&m.setCenter(new kakao.maps.LatLng(u.lat,u.lng))}),[m,u.lat,u.lng]),y((function(){m&&c&&m.setLevel(c)}),[m,c]),y((function(){m&&f&&m.setMapTypeId(f)}),[m,f]),y((function(){m&&d&&d(m)}),[m,d]),o.createElement("div",{id:a,style:r,className:i,ref:g})}));var P=n(6541),A=n(419),Z=n(4203),D=n(2317),T=n(3431),W=126.795841,H=33.55635,j=function(e){var t=e.edge,n=(C(),(0,o.useState)(!1)),r=n[0],i=n[1],u=t.node.fields,s=u.slug,l=u.geolocation;if(!l)return(0,T.tZ)(o.Fragment,null);var c=l.point,f=c.x,d=c.y,p=(0,o.useCallback)((function(){return i(!0)}),[i]),k=(0,o.useCallback)((function(){return i(!1)}),[i]),m=(0,o.useCallback)((function(){return(0,a.c4)("/article/"+s)}),[a.c4,s]);return(0,T.tZ)(I,{position:{lng:f,lat:d},onMouseOver:p,onMouseOut:k,onClick:m},r&&(0,T.tZ)(P.xu,{w:"full",maxW:"10em"},(0,T.tZ)(Z.Se,{entry:t.node})))},N=function(e){var t=e.data.allMdx.edges,n=(0,o.useMemo)((function(){return D.Xz.getCenter(t.map((function(e){var t=e.node.fields.geolocation;if(!t)return{x:W,y:H};var n=t.point;return{x:n.x,y:n.y}})))}),[]),a=(0,o.useMemo)((function(){if("undefined"!=typeof kakao){var e=new kakao.maps.LatLngBounds;return t.forEach((function(t){var n=t.node.fields.geolocation;e.extend(new kakao.maps.LatLng((null==n?void 0:n.point.y)||H,(null==n?void 0:n.point.x)||W))})),e}}),[]),r=(0,o.useCallback)((function(e){e&&a&&e.setBounds(a)}),[a]);return(0,T.tZ)(A.Ar,{disableFooter:!0},(0,T.tZ)(L,{center:{lat:n.y,lng:n.x},style:{width:"100%",height:"100vh"},ref:r},t.map((function(e,t){return(0,T.tZ)(j,{key:t,edge:e})}))))}}}]);
//# sourceMappingURL=component---src-pages-map-tsx-0db9de6ccc00a14efdc4.js.map